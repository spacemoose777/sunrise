<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#0f1117" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Sunrise" />
  <meta name="description" content="Your daily journal and mood companion." />
  <title>Sunrise</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
</head>
<body class="auth-locked">

  <!-- ‚îÄ‚îÄ‚îÄ AUTH SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="auth-screen" class="auth-screen">
    <div class="auth-card">
      <div class="auth-icon">‚òÄÔ∏è</div>
      <h1 class="auth-title">Sunrise</h1>
      <p class="auth-subtitle" id="auth-subtitle">Sign in to your journal</p>
      <form id="auth-form" novalidate>
        <div id="auth-email-group" class="auth-field-group">
          <input type="email" id="auth-email" class="field" placeholder="Email" autocomplete="email" required />
        </div>
        <input type="password" id="auth-password" class="field" placeholder="Password" autocomplete="current-password" required />
        <button type="submit" class="btn-save auth-btn" id="auth-submit-btn">Sign In</button>
        <p class="auth-error" id="auth-error"></p>
      </form>
      <p class="auth-footer">Your journal is end-to-end encrypted</p>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ MIGRATION PROMPT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="migration-prompt" class="modal" style="display:none">
    <div class="modal-backdrop"></div>
    <div class="modal-sheet">
      <div class="modal-content" style="text-align:center; padding: 32px 20px;">
        <h2 class="section-title" style="justify-content:center;">Import Local Entries?</h2>
        <p id="migration-count" class="section-hint" style="margin:16px 0;"></p>
        <p class="section-hint">They will be encrypted and synced to your cloud journal.</p>
        <div style="display:flex; gap:10px; justify-content:center; margin-top:20px;">
          <button class="btn-secondary" id="migration-skip">Skip</button>
          <button class="btn-save" id="migration-import" style="max-width:180px;">Import</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <nav class="bottom-nav">
    <button class="nav-btn active" data-view="today" aria-label="Today">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
      <span>Today</span>
    </button>
    <button class="nav-btn" data-view="history" aria-label="History">
      <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
      <span>History</span>
    </button>
    <button class="nav-btn" data-view="settings" aria-label="Settings">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      <span>Settings</span>
    </button>
  </nav>

  <!-- ‚îÄ‚îÄ‚îÄ TODAY VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="view-today" class="view active">

    <header class="page-header">
      <div class="date-display" id="today-date"></div>
      <h1 class="app-title">Sunrise</h1>
    </header>

    <!-- Quote of the Day -->
    <section class="card quote-card">
      <div class="quote-mark">"</div>
      <p id="daily-quote" class="quote-text"></p>
      <p id="quote-author" class="quote-author"></p>
    </section>

    <!-- Journal Form -->
    <form id="journal-form" novalidate>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">üåø</span> Gratitude
        </h2>
        <p class="section-hint">Three things you are grateful for today</p>
        <div class="field-group">
          <input type="text" class="field" name="grateful1" placeholder="I'm grateful for‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="grateful2" placeholder="I'm grateful for‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="grateful3" placeholder="I'm grateful for‚Ä¶" autocomplete="off" />
        </div>
      </section>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">‚ú®</span> Appreciation
        </h2>
        <p class="section-hint">Three things you appreciated recently</p>
        <div class="field-group">
          <input type="text" class="field" name="appreciated1" placeholder="I appreciated‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="appreciated2" placeholder="I appreciated‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="appreciated3" placeholder="I appreciated‚Ä¶" autocomplete="off" />
        </div>
      </section>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">üåÖ</span> Looking Forward
        </h2>
        <p class="section-hint">Three things you're looking forward to</p>
        <div class="field-group">
          <input type="text" class="field" name="forward1" placeholder="I'm looking forward to‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="forward2" placeholder="I'm looking forward to‚Ä¶" autocomplete="off" />
          <input type="text" class="field" name="forward3" placeholder="I'm looking forward to‚Ä¶" autocomplete="off" />
        </div>
      </section>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">üéØ</span> Intention
        </h2>
        <p class="section-hint">One intention for the day</p>
        <input type="text" class="field" name="intention" placeholder="Today I intend to‚Ä¶" autocomplete="off" />
      </section>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">üíõ</span> You Are Awesome
        </h2>
        <p class="section-hint">One reason you are awesome</p>
        <input type="text" class="field" name="awesome" placeholder="I am awesome because‚Ä¶" autocomplete="off" />
      </section>

      <section class="card">
        <h2 class="section-title">
          <span class="section-icon">üí≠</span> On My Mind
        </h2>
        <p class="section-hint">Any thoughts, feelings, or reflections</p>
        <textarea class="field textarea" name="thoughts" placeholder="What's on your mind today‚Ä¶" rows="5"></textarea>
      </section>

      <div class="submit-area">
        <button type="submit" class="btn-save" id="save-btn">Save Today's Entry</button>
        <p class="save-status" id="save-status"></p>
      </div>

    </form>

  </main>

  <!-- ‚îÄ‚îÄ‚îÄ HISTORY VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="view-history" class="view">

    <header class="page-header">
      <h1 class="app-title">History</h1>
    </header>

    <div id="history-empty" class="empty-state" style="display:none">
      <p>No entries yet. Start with today! ‚òÄÔ∏è</p>
    </div>

    <div id="history-list" class="history-list"></div>

  </main>

  <!-- ‚îÄ‚îÄ‚îÄ SETTINGS VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main id="view-settings" class="view">

    <header class="page-header">
      <h1 class="app-title">Settings</h1>
    </header>

    <section class="card">
      <h2 class="section-title">Morning Reminder</h2>
      <p class="section-hint">Enable a daily notification at 7:00 am to prompt your journal.</p>
      <div class="setting-row">
        <label class="toggle-label" for="notif-toggle">Daily 7am notification</label>
        <label class="toggle-switch">
          <input type="checkbox" id="notif-toggle" />
          <span class="toggle-slider"></span>
        </label>
      </div>
      <p class="notif-status" id="notif-status"></p>
    </section>

    <section class="card">
      <h2 class="section-title">Data</h2>
      <p class="section-hint">Your journal is end-to-end encrypted and synced to the cloud.</p>
      <div class="data-actions">
        <button class="btn-secondary" id="export-btn">Export as JSON</button>
        <button class="btn-danger" id="clear-btn">Clear All Data</button>
      </div>
    </section>

    <section class="card">
      <h2 class="section-title">Account</h2>
      <p class="section-hint" id="account-email"></p>
      <div class="data-actions">
        <button class="btn-secondary" id="logout-btn">Sign Out</button>
      </div>
    </section>

    <section class="card">
      <h2 class="section-title">Install App</h2>
      <p class="section-hint">Add Sunrise to your home screen for the best experience.</p>
      <button class="btn-secondary" id="install-btn" style="display:none">Add to Home Screen</button>
      <p class="install-hint" id="install-hint">Open this page in Chrome on your Android phone, then tap the menu (‚ãÆ) and choose <strong>Add to Home screen</strong>.</p>
    </section>

    <section class="card about-card">
      <p class="about-text">Sunrise ¬∑ Your daily companion<br/>End-to-end encrypted. Only you can read your journal.</p>
    </section>

  </main>

  <!-- ‚îÄ‚îÄ‚îÄ ENTRY DETAIL MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="entry-modal" class="modal" role="dialog" aria-modal="true" aria-label="Journal entry" style="display:none">
    <div class="modal-backdrop"></div>
    <div class="modal-sheet">
      <button class="modal-close" id="modal-close" aria-label="Close">‚úï</button>
      <div id="modal-content" class="modal-content"></div>
    </div>
  </div>

  <script src="supabase.min.js"></script>
  <script src="quotes.js"></script>
  <script src="crypto.js"></script>
  <script src="supabase-client.js"></script>
  <script src="app.js"></script>
</body>
</html>
